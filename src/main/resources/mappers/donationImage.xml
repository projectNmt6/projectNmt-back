<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.projectnmt.projectnmt.repository.DonationImageMapper">

        <resultMap id="DonationImageResultMap" type="com.projectnmt.projectnmt.entity.DonationImage">
            <id property="donationImageId" column="donation_image_id" />
            <result property="donationPageId" column="donation_page_id" />
            <result property="donationImageNumber" column="donation_image_number" />
            <result property="donationImageURL" column="image_url" />
            <result property="userId" column="user_id" />

        </resultMap>

    <insert id="saveDonationImages" parameterType="com.projectnmt.projectnmt.entity.DonationImage"
            >
        INSERT INTO donation_image_tb
        (
        donation_page_id,
        donation_image_number,
        image_url,
        user_id
        )
        VALUES
        (
        #{donationPageId},
        #{donationImageNumber},
        #{donationImageURL},
        #{userId}
        )

    </insert>


    <delete id="deleteDonationImageById" parameterType="int">
        DELETE

        FROM
            donation_image_tb
        WHERE
            donation_image_id = #{donationImageId}
    </delete>

    <select id="getDonationImageLIst" resultMap="DonationImageResultMap">
        SELECT *
        FROM
            donation_image_tb
    </select>

    <select id="getDonationImageByDonationPageId" parameterType="int" resultMap="DonationImageResultMap" >
        SELECT *
        FROM
            donation_image_tb
        WHERE
            donation_page_id =#{donationPageId}
    </select>

    <update id="updatePageById" parameterType="com.projectnmt.projectnmt.entity.DonationImage">
        update
            donation_image_tb
        set
            donation_image_id = #{donationImageId},
            donation_page_id=#{donationPageId},
            donation_image_number=#{donationImageNumber},
            image_url=#{donationImageURL},
            user_id=#{userId}

        WHERE
            donation_image_id = #{donationImageId}

    </update>


</mapper>
